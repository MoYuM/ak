# ğŸ”« WX-AK

AK æœåŠ¡äºé‚£äº›**ç”¨äºå¾®ä¿¡å°ç¨‹åºçš„ npm åŒ…**çš„å¼€å‘å’Œè°ƒè¯•ï¼Œè®©ä½ é‡å›åˆ°å‘½ä»¤è¡Œçš„æ€€æŠ±ï¼Œçœå»ã€Œnpmæ„å»ºã€ã€ã€Œé¢„è§ˆã€ç­‰æ“ä½œ


## ä½¿ç”¨

### å®‰è£…
```
npm i wx-ak --global
```

### é…ç½®

ak æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œæ‰€æœ‰çš„å‘½ä»¤éƒ½æ˜¯åœ¨ npm åŒ…ç›®å½•ä¸‹æ‰§è¡Œçš„ã€‚åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦åœ¨ npm åŒ…æ ¹ç›®å½•ä¸‹æ–°å»º `ak.config.json` æ–‡ä»¶ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° `.gitignore` ä¸­ï¼ˆå¯é€‰ï¼‰ï¼Œ`ak.config.json` é…ç½®å¦‚ä¸‹

```ts
export type AkConfig = {
  /**
   * å®¿ä¸»å°ç¨‹åºçš„ç»å¯¹è·¯å¾„ï¼Œå¿…å¡«
   * */
  miniprogramPath: string;
  /**
   * npm åŒ…æ„å»ºå‘½ä»¤
   * @default "npm run build"
   * */
  buildCommand: string;
  /**
   * npm åŒ…äº§å‡ºè·¯å¾„
   * @default "miniprogram_dist"
   * */
  distPath: string;
  /**
   * å¾®ä¿¡å°ç¨‹åºç»å¯¹ç§é’¥è·¯å¾„
   * å¦‚æœä½¿ç”¨äº† ak load <version> æˆ–è€…é¢„è§ˆã€ä¸Šä¼ ç›¸å…³åŠŸèƒ½åˆ™æ­¤é¡¹å¿…å¡«ï¼Œå…·ä½“è§ {@link https://www.npmjs.com/package/miniprogram-ci miniprogram-ci}
   * */
  privateKeyPath: string;
}
```

### å‘½ä»¤

1. `ak load`

å°†æœ¬åœ°æˆ–è€…æŒ‡å®šç‰ˆæœ¬çš„ npm åŒ…å®‰è£…åˆ°å®¿ä¸»å°ç¨‹åºä¸­å¹¶æ„å»º npmï¼Œ`ak load` ä¹‹ååªè¦é‡æ–°ç¼–è¯‘å³å¯çœ‹åˆ°æ•ˆæœ

```
ak load [version]
```

ä¾‹å¦‚:
```bash
# å®‰è£…æœ¬åœ°å½“å‰çš„ç‰ˆæœ¬åˆ°å®¿ä¸»å°ç¨‹åºä¸­
ak load

# å®‰è£… 1.1.0 ç‰ˆæœ¬åˆ°å®¿ä¸»å°ç¨‹åºä¸­
ak load 1.1.0

```



## å¼€å‘

### æœ¬åœ°å¼€å‘

ç¼–è¯‘ä»£ç å¹¶ link åˆ°å…¨å±€ï¼Œä¹‹åéœ€è¦åœ¨å°ç¨‹åºç›®å½•è°ƒç”¨ `npm link ak`ï¼Œå°±å¯ä»¥è®¿é—®åˆ°æœ¬åœ°ä»£ç 

```
npm run dev
```

### å‘å¸ƒ

```
npm version
npm publish
```

